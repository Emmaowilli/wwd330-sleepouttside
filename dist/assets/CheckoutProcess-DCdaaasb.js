import{a as i,s as c}from"./utils-BJU-VGx7.js";class o{constructor(t,e){this.cartKey=t,this.summaryElement=document.querySelector(e),this.cartItems=[]}init(){this.cartItems=i(this.cartKey)||[],this.displayCartSummary()}displayCartSummary(){if(!this.summaryElement)return;if(this.summaryElement.innerHTML="",this.cartItems.length===0){this.summaryElement.innerHTML="<p>Your cart is empty.</p>";return}let t=0;this.cartItems.forEach(r=>{const a=r.FinalPrice*r.Quantity;t+=a;const s=document.createElement("div");s.classList.add("cart-item"),s.innerHTML=`
        <p>${r.Name} × ${r.Quantity}</p>
        <p>₹${a}</p>
      `,this.summaryElement.appendChild(s)});const e=document.createElement("div");e.classList.add("cart-total"),e.innerHTML=`<strong>Total: ₹${t}</strong>`,this.summaryElement.appendChild(e)}checkout(t){if(this.cartItems.length===0){t("Your cart is empty.");return}try{console.log("Placing order:",this.cartItems),c("placed-order",this.cartItems),c(this.cartKey,[]),this.cartItems=[],this.displayCartSummary(),t("Order placed successfully!","success"),setTimeout(()=>{window.location.href="/checkout/success.html"},1e3)}catch(e){t("Something went wrong while placing your order."),console.error(e)}}}export{o as C};
